<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenRAG - AI Document Intelligence Platform</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.3/cdn.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #00d4aa, #00a8cc);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover, .nav-links a.active {
            color: #00d4aa;
        }

        .get-started-btn {
            background: linear-gradient(45deg, #00d4aa, #00a8cc);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.3s;
        }

        .get-started-btn:hover {
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            padding: 4rem 0;
            text-align: center;
            color: white;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #fff, #00d4aa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Main Content */
        .main-content {
            background: white;
            border-radius: 20px 20px 0 0;
            min-height: 80vh;
            padding: 2rem 0;
            margin-top: 2rem;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            justify-content: center;
            margin-bottom: 3rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .tab-btn {
            padding: 1rem 2rem;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: #00d4aa;
            border-bottom-color: #00d4aa;
        }

        /* Upload Section */
        .upload-section {
            background: #f8fafc;
            border-radius: 16px;
            padding: 3rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .upload-zone {
            border: 3px dashed #00d4aa;
            border-radius: 12px;
            padding: 3rem;
            background: white;
            transition: all 0.3s;
        }

        .upload-zone:hover {
            border-color: #00a8cc;
            background: #f0fdfa;
        }

        .upload-zone.dragover {
            border-color: #00a8cc;
            background: #e6fffa;
        }

        .upload-icon {
            font-size: 3rem;
            color: #00d4aa;
            margin-bottom: 1rem;
        }

        .file-input {
            display: none;
        }

        .upload-btn {
            background: linear-gradient(45deg, #00d4aa, #00a8cc);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 1rem;
            transition: transform 0.3s;
        }

        .upload-btn:hover {
            transform: translateY(-2px);
        }

        /* Chat Interface */
        .chat-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .chat-messages {
            height: 500px;
            overflow-y: auto;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        .message {
            margin-bottom: 1.5rem;
            display: flex;
            gap: 1rem;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        .message.user .message-avatar {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .message.bot .message-avatar {
            background: linear-gradient(45deg, #00d4aa, #00a8cc);
            color: white;
        }

        .message-content {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            max-width: 70%;
        }

        .message.user .message-content {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .sources {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0;
        }

        .source-tag {
            display: inline-block;
            background: #e6fffa;
            color: #00a8cc;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            margin: 0.25rem;
        }

        .chat-input-container {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            resize: vertical;
            min-height: 50px;
            max-height: 120px;
        }

        .chat-input:focus {
            outline: none;
            border-color: #00d4aa;
        }

        .send-btn {
            background: linear-gradient(45deg, #00d4aa, #00a8cc);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .send-btn:hover {
            transform: translateY(-2px);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Role Selector */
        .role-selector {
            margin-bottom: 1rem;
        }

        .role-btn {
            padding: 0.5rem 1rem;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 20px;
            margin-right: 0.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .role-btn.active {
            background: linear-gradient(45deg, #00d4aa, #00a8cc);
            color: white;
            border-color: transparent;
        }

        /* Stats Dashboard */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #00d4aa;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #666;
            font-weight: 500;
        }

        /* Document List */
        .document-list {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .document-item:last-child {
            border-bottom: none;
        }

        .document-name {
            font-weight: 600;
            color: #333;
        }

        .document-chunks {
            color: #666;
            font-size: 0.9rem;
        }

        /* Feedback Section */
        .feedback-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .feedback-btn {
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .feedback-btn:hover {
            background: #f8fafc;
        }

        .feedback-btn.positive {
            color: #10b981;
            border-color: #10b981;
        }

        .feedback-btn.negative {
            color: #ef4444;
            border-color: #ef4444;
        }

        /* Loading States */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #00d4aa;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .tab-navigation {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .upload-section {
                padding: 2rem 1rem;
            }

            .message-content {
                max-width: 85%;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Process Steps */
        .process-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .process-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin: 3rem 0;
        }

        .process-step {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            transition: transform 0.3s ease;
        }

        .process-step:hover {
            transform: translateY(-5px);
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #00d4aa, #00a8cc);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0 auto 1.5rem;
        }

        .step-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
        }

        .step-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .step-tech {
            background: #f0fdfa;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #00d4aa;
        }

        .step-tech-title {
            font-weight: 600;
            color: #00a8cc;
            margin-bottom: 0.5rem;
        }

        .step-tech-list {
            font-size: 0.9rem;
            color: #666;
        }

        /* Architecture Diagram */
        .architecture-diagram {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 16px;
            padding: 3rem;
            margin: 3rem 0;
            text-align: center;
            overflow-x: auto;
        }

        .diagram-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            min-width: 800px;
            margin: 2rem 0;
        }

        .diagram-box {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            min-width: 120px;
            text-align: center;
        }

        .diagram-box.highlight {
            background: linear-gradient(45deg, #00d4aa, #00a8cc);
            color: white;
        }

        .diagram-arrow {
            font-size: 1.5rem;
            color: #00d4aa;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
            border-top: 4px solid;
        }

        .feature-card.blue { border-top-color: #3b82f6; }
        .feature-card.green { border-top-color: #10b981; }
        .feature-card.purple { border-top-color: #8b5cf6; }
        .feature-card.orange { border-top-color: #f59e0b; }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .feature-card.blue .feature-icon { color: #3b82f6; }
        .feature-card.green .feature-icon { color: #10b981; }
        .feature-card.purple .feature-icon { color: #8b5cf6; }
        .feature-card.orange .feature-icon { color: #f59e0b; }

        .feature-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
        }

        .feature-description {
            color: #666;
            line-height: 1.6;
        }

        /* Use Cases */
        .use-cases {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 16px;
            padding: 3rem;
            color: white;
            margin: 3rem 0;
        }

        .use-cases h3 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 2rem;
        }

        .use-case-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .use-case {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .use-case-title {
            font-weight: 700;
            margin-bottom: 1rem;
            color: #00d4aa;
        }

        .use-case-description {
            opacity: 0.9;
            line-height: 1.6;
        }

        /* Benefits Section */
        .benefits-section {
            text-align: center;
            margin: 4rem 0;
        }

        .benefits-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .benefit-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            text-align: left;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .benefit-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #00d4aa, #00a8cc);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .benefit-content h4 {
            font-weight: 700;
            color: #333;
            margin-bottom: 0.5rem;
        }

        /* Document Actions */
        .document-actions {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .action-btn {
            padding: 0.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .delete-btn {
            background: #fee2e2;
            color: #dc2626;
        }

        .delete-btn:hover {
            background: #fecaca;
            transform: translateY(-1px);
        }

        .delete-all-btn {
            background: linear-gradient(45deg, #dc2626, #b91c1c);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 1rem;
            transition: transform 0.3s;
        }

        .delete-all-btn:hover {
            transform: translateY(-2px);
        }

        .delete-all-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Confirmation Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
        }

        .modal-message {
            color: #666;
            margin-bottom: 2rem;
            line-height: 1.5;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .modal-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .modal-btn.confirm {
            background: linear-gradient(45deg, #dc2626, #b91c1c);
            color: white;
        }

        .modal-btn.cancel {
            background: #f3f4f6;
            color: #374151;
        }

        /* Hidden utility class */
        .hidden {
            display: none !important;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid #10b981;
        }

        .notification.error {
            border-left: 4px solid #ef4444;
        }
    </style>
</head>
<body x-data="ragApp()">
    <!-- Header -->
    <header class="header">
        <nav class="nav container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <span>GenRAG</span>
            </div>
            <ul class="nav-links">
                <li><a href="#" @click="activeTab = 'chat'" :class="{ active: activeTab === 'chat' }">Chat</a></li>
                <li><a href="#" @click="activeTab = 'upload'" :class="{ active: activeTab === 'upload' }">Upload</a></li>
                <li><a href="#" @click="activeTab = 'how-it-works'" :class="{ active: activeTab === 'how-it-works' }">How It Works</a></li>
                <li><a href="#" @click="activeTab = 'analytics'" :class="{ active: activeTab === 'analytics' }">Analytics</a></li>
                <li><a href="#" @click="activeTab = 'documents'" :class="{ active: activeTab === 'documents' }">Documents</a></li>
            </ul>
            <a href="#" class="get-started-btn" @click="activeTab = 'chat'">Get Started</a>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>The most trusted<br>AI Document Hub<br>on Planet Earth</h1>
            <p>AI is complex, we've made it down to you. Get the latest AI learning from news, applications, education, events and hands-on from the community of 10 million AI professionals and enthusiasts.</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-btn" :class="{ active: activeTab === 'chat' }" @click="activeTab = 'chat'">
                    <i class="fas fa-comments"></i> Chat
                </button>
                <button class="tab-btn" :class="{ active: activeTab === 'upload' }" @click="activeTab = 'upload'">
                    <i class="fas fa-upload"></i> Upload Documents
                </button>
                <button class="tab-btn" :class="{ active: activeTab === 'how-it-works' }" @click="activeTab = 'how-it-works'">
                    <i class="fas fa-cogs"></i> How It Works
                </button>
                <button class="tab-btn" :class="{ active: activeTab === 'analytics' }" @click="activeTab = 'analytics'; loadStats()">
                    <i class="fas fa-chart-bar"></i> Analytics
                </button>
                <button class="tab-btn" :class="{ active: activeTab === 'documents' }" @click="activeTab = 'documents'; loadDocuments()">
                    <i class="fas fa-file-alt"></i> Documents
                </button>
            </div>

            <!-- Chat Tab -->
            <div x-show="activeTab === 'chat'" class="chat-container">
                <!-- Role Selector -->
                <div class="role-selector">
                    <span style="margin-right: 1rem; font-weight: 600;">Select Role:</span>
                    <template x-for="role in roles" :key="role.value">
                        <button class="role-btn" 
                                :class="{ active: selectedRole === role.value }" 
                                @click="selectedRole = role.value"
                                x-text="role.label">
                        </button>
                    </template>
                </div>

                <!-- Chat Messages -->
                <div class="chat-messages" x-ref="chatMessages">
                    <template x-for="message in messages" :key="message.id">
                        <div class="message" :class="message.type">
                            <div class="message-avatar">
                                <span x-text="message.type === 'user' ? 'U' : 'AI'"></span>
                            </div>
                            <div class="message-content">
                                <div x-text="message.content"></div>
                                <div x-show="message.sources && message.sources.length > 0" class="sources">
                                    <strong>Sources:</strong>
                                    <template x-for="source in message.sources" :key="source.source">
                                        <span class="source-tag" x-text="source.source + ' (Score: ' + source.relevance_score + ')'"></span>
                                    </template>
                                </div>
                                <div x-show="message.type === 'bot' && message.queryId" class="feedback-buttons">
                                    <button class="feedback-btn" 
                                            :class="{ positive: message.feedback === true }"
                                            @click="submitFeedback(message.queryId, true, message)">
                                        <i class="fas fa-thumbs-up"></i>
                                    </button>
                                    <button class="feedback-btn"
                                            :class="{ negative: message.feedback === false }"
                                            @click="submitFeedback(message.queryId, false, message)">
                                        <i class="fas fa-thumbs-down"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </template>
                    <div x-show="isLoading" class="message bot">
                        <div class="message-avatar">AI</div>
                        <div class="message-content">
                            <div class="loading"></div> Thinking...
                        </div>
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="chat-input-container">
                    <textarea class="chat-input" 
                              placeholder="Ask me anything about your documents..." 
                              x-model="currentMessage"
                              @keydown.enter.prevent="sendMessage()"
                              :disabled="isLoading"></textarea>
                    <button class="send-btn" @click="sendMessage()" :disabled="isLoading || !currentMessage.trim()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>

            <!-- How It Works Tab -->
            <div x-show="activeTab === 'how-it-works'" class="process-container">
                <div style="text-align: center; margin-bottom: 3rem;">
                    <h2 style="font-size: 2.5rem; font-weight: 800; color: #333; margin-bottom: 1rem;">
                        How GenRAG Works
                    </h2>
                    <p style="font-size: 1.2rem; color: #666; max-width: 600px; margin: 0 auto;">
                        Discover how our Retrieval-Augmented Generation system transforms your documents into intelligent, conversational knowledge.
                    </p>
                </div>

                <!-- Architecture Diagram -->
                <div class="architecture-diagram">
                    <h3 style="color: #333; margin-bottom: 2rem;">System Architecture</h3>
                    <div class="diagram-flow">
                        <div class="diagram-box">
                            <i class="fas fa-file-upload" style="font-size: 2rem; margin-bottom: 0.5rem; color: #00d4aa;"></i>
                            <div style="font-weight: 600;">Document Upload</div>
                            <div style="font-size: 0.8rem; color: #666;">PDF, DOCX, TXT</div>
                        </div>
                        <div class="diagram-arrow">→</div>
                        <div class="diagram-box">
                            <i class="fas fa-cut" style="font-size: 2rem; margin-bottom: 0.5rem; color: #00d4aa;"></i>
                            <div style="font-weight: 600;">Text Chunking</div>
                            <div style="font-size: 0.8rem; color: #666;">500 words/chunk</div>
                        </div>
                        <div class="diagram-arrow">→</div>
                        <div class="diagram-box highlight">
                            <i class="fas fa-brain" style="font-size: 2rem; margin-bottom: 0.5rem;"></i>
                            <div style="font-weight: 600;">AI Embeddings</div>
                            <div style="font-size: 0.8rem;">Vector Conversion</div>
                        </div>
                        <div class="diagram-arrow">→</div>
                        <div class="diagram-box">
                            <i class="fas fa-database" style="font-size: 2rem; margin-bottom: 0.5rem; color: #00d4aa;"></i>
                            <div style="font-weight: 600;">Vector Storage</div>
                            <div style="font-size: 0.8rem; color: #666;">FAISS Database</div>
                        </div>
                    </div>
                    <div style="margin-top: 2rem;">
                        <div class="diagram-flow">
                            <div class="diagram-box">
                                <i class="fas fa-question" style="font-size: 2rem; margin-bottom: 0.5rem; color: #667eea;"></i>
                                <div style="font-weight: 600;">User Query</div>
                                <div style="font-size: 0.8rem; color: #666;">Natural Language</div>
                            </div>
                            <div class="diagram-arrow">→</div>
                            <div class="diagram-box">
                                <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 0.5rem; color: #667eea;"></i>
                                <div style="font-weight: 600;">Similarity Search</div>
                                <div style="font-size: 0.8rem; color: #666;">Top 3 Matches</div>
                            </div>
                            <div class="diagram-arrow">→</div>
                            <div class="diagram-box highlight">
                                <i class="fas fa-robot" style="font-size: 2rem; margin-bottom: 0.5rem;"></i>
                                <div style="font-weight: 600;">LLM Processing</div>
                                <div style="font-size: 0.8rem;">GPT-3.5 Turbo</div>
                            </div>
                            <div class="diagram-arrow">→</div>
                            <div class="diagram-box">
                                <i class="fas fa-comment-dots" style="font-size: 2rem; margin-bottom: 0.5rem; color: #667eea;"></i>
                                <div style="font-weight: 600;">AI Response</div>
                                <div style="font-size: 0.8rem; color: #666;">With Citations</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Process Steps -->
                <div class="process-steps">
                    <div class="process-step">
                        <div class="step-number">1</div>
                        <div class="step-title">Document Ingestion</div>
                        <div class="step-description">
                            Upload your documents in PDF, DOCX, or TXT format. Our system extracts and processes the text content automatically.
                        </div>
                        <div class="step-tech">
                            <div class="step-tech-title">Technologies Used:</div>
                            <div class="step-tech-list">PyPDF2, python-docx, FastAPI multipart</div>
                        </div>
                    </div>

                    <div class="process-step">
                        <div class="step-number">2</div>
                        <div class="step-title">Text Chunking</div>
                        <div class="step-description">
                            Documents are split into manageable chunks (500 words) with overlapping content to maintain context continuity.
                        </div>
                        <div class="step-tech">
                            <div class="step-tech-title">Configuration:</div>
                            <div class="step-tech-list">500 words per chunk, 50-word overlap</div>
                        </div>
                    </div>

                    <div class="process-step">
                        <div class="step-number">3</div>
                        <div class="step-title">Vector Embeddings</div>
                        <div class="step-description">
                            Each text chunk is converted into high-dimensional vectors using state-of-the-art embedding models.
                        </div>
                        <div class="step-tech">
                            <div class="step-tech-title">Model Used:</div>
                            <div class="step-tech-list">SentenceTransformers all-MiniLM-L6-v2</div>
                        </div>
                    </div>

                    <div class="process-step">
                        <div class="step-number">4</div>
                        <div class="step-title">Similarity Search</div>
                        <div class="step-description">
                            When you ask a question, we find the most relevant document chunks using cosine similarity search.
                        </div>
                        <div class="step-tech">
                            <div class="step-tech-title">Vector Database:</div>
                            <div class="step-tech-list">FAISS IndexFlatIP with L2 normalization</div>
                        </div>
                    </div>

                    <div class="process-step">
                        <div class="step-number">5</div>
                        <div class="step-title">AI Response Generation</div>
                        <div class="step-description">
                            Retrieved context is sent to a large language model to generate accurate, contextual responses with source citations.
                        </div>
                        <div class="step-tech">
                            <div class="step-tech-title">LLM Engine:</div>
                            <div class="step-tech-list">OpenAI GPT-3.5-turbo with custom prompts</div>
                        </div>
                    </div>

                    <div class="process-step">
                        <div class="step-number">6</div>
                        <div class="step-title">Continuous Learning</div>
                        <div class="step-description">
                            User feedback helps improve response quality through our feedback collection system.
                        </div>
                        <div class="step-tech">
                            <div class="step-tech-title">Feedback System:</div>
                            <div class="step-tech-list">Thumbs up/down with comment tracking</div>
                        </div>
                    </div>
                </div>

                <!-- Key Features -->
                <div style="text-align: center; margin: 4rem 0 2rem;">
                    <h3 style="font-size: 2rem; font-weight: 700; color: #333;">Key Features</h3>
                </div>

                <div class="features-grid">
                    <div class="feature-card blue">
                        <div class="feature-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="feature-title">Role-Based Responses</div>
                        <div class="feature-description">
                            Get tailored responses based on your role - managers receive executive summaries, developers get technical details.
                        </div>
                    </div>

                    <div class="feature-card green">
                        <div class="feature-icon">
                            <i class="fas fa-link"></i>
                        </div>
                        <div class="feature-title">Source Citations</div>
                        <div class="feature-description">
                            Every response includes references to source documents with relevance scores for transparency.
                        </div>
                    </div>

                    <div class="feature-card purple">
                        <div class="feature-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <div class="feature-title">Real-Time Processing</div>
                        <div class="feature-description">
                            Lightning-fast document processing and query responses with optimized vector search algorithms.
                        </div>
                    </div>

                    <div class="feature-card orange">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="feature-title">Secure & Private</div>
                        <div class="feature-description">
                            Your documents are processed securely with no data retention beyond your session.
                        </div>
                    </div>
                </div>

                <!-- Use Cases -->
                <div class="use-cases">
                    <h3>Perfect For Various Use Cases</h3>
                    <div class="use-case-grid">
                        <div class="use-case">
                            <div class="use-case-title">📚 Research & Education</div>
                            <div class="use-case-description">
                                Quickly find information across research papers, textbooks, and educational materials.
                            </div>
                        </div>
                        <div class="use-case">
                            <div class="use-case-title">📊 Business Intelligence</div>
                            <div class="use-case-description">
                                Extract insights from reports, contracts, and business documents efficiently.
                            </div>
                        </div>
                        <div class="use-case">
                            <div class="use-case-title">⚖️ Legal Document Review</div>
                            <div class="use-case-description">
                                Navigate complex legal documents and contracts with AI-powered search.
                            </div>
                        </div>
                        <div class="use-case">
                            <div class="use-case-title">🔬 Technical Documentation</div>
                            <div class="use-case-description">
                                Get instant answers from technical manuals, API docs, and specifications.
                            </div>
                        </div>
                        <div class="use-case">
                            <div class="use-case-title">📈 Market Research</div>
                            <div class="use-case-description">
                                Analyze market reports, competitor analysis, and industry insights.
                            </div>
                        </div>
                        <div class="use-case">
                            <div class="use-case-title">🏥 Medical Literature</div>
                            <div class="use-case-description">
                                Search through medical journals, research papers, and clinical studies.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Benefits -->
                <div class="benefits-section">
                    <h3 style="font-size: 2rem; font-weight: 700; color: #333; margin-bottom: 1rem;">
                        Why Choose GenRAG?
                    </h3>
                    <p style="color: #666; font-size: 1.1rem; max-width: 600px; margin: 0 auto;">
                        Experience the power of AI-driven document intelligence with enterprise-grade features.
                    </p>

                    <div class="benefits-list">
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <div class="benefit-content">
                                <h4>Lightning Fast</h4>
                                <p>Get answers in seconds, not hours. Our optimized vector search delivers instant results across thousands of documents.</p>
                            </div>
                        </div>

                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <div class="benefit-content">
                                <h4>Highly Accurate</h4>
                                <p>Advanced AI models ensure relevant, contextual responses with source citations for verification.</p>
                            </div>
                        </div>

                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-expand-arrows-alt"></i>
                            </div>
                            <div class="benefit-content">
                                <h4>Infinitely Scalable</h4>
                                <p>From personal documents to enterprise knowledge bases - scales with your needs seamlessly.</p>
                            </div>
                        </div>

                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-cog"></i>
                            </div>
                            <div class="benefit-content">
                                <h4>Easy Integration</h4>
                                <p>RESTful API design makes it simple to integrate into existing workflows and applications.</p>
                            </div>
                        </div>

                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="benefit-content">
                                <h4>Continuous Improvement</h4>
                                <p>Built-in feedback system helps the AI learn and improve response quality over time.</p>
                            </div>
                        </div>

                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <div class="benefit-content">
                                <h4>Multi-Platform</h4>
                                <p>Works seamlessly across desktop, tablet, and mobile devices with responsive design.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Getting Started -->
                <div style="text-align: center; background: linear-gradient(45deg, #00d4aa, #00a8cc); color: white; padding: 3rem; border-radius: 16px; margin: 3rem 0;">
                    <h3 style="font-size: 2rem; margin-bottom: 1rem;">Ready to Get Started?</h3>
                    <p style="font-size: 1.1rem; margin-bottom: 2rem; opacity: 0.9;">
                        Transform your documents into intelligent, searchable knowledge in just a few clicks.
                    </p>
                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <button class="upload-btn" @click="activeTab = 'upload'" style="background: white; color: #00a8cc;">
                            <i class="fas fa-upload"></i> Upload Documents
                        </button>
                        <button class="upload-btn" @click="activeTab = 'chat'" style="background: rgba(255,255,255,0.2); border: 2px solid white;">
                            <i class="fas fa-comments"></i> Start Chatting
                        </button>
                    </div>
                </div>
            </div>
            <div x-show="activeTab === 'upload'" class="upload-section">
                <h2 style="margin-bottom: 2rem; color: #333;">Upload Your Documents</h2>
                <div class="upload-zone" 
                     @drop.prevent="handleFileDrop($event)"
                     @dragover.prevent="$event.currentTarget.classList.add('dragover')"
                     @dragleave.prevent="$event.currentTarget.classList.remove('dragover')">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <h3>Drag & Drop your files here</h3>
                    <p style="color: #666; margin: 1rem 0;">Supports PDF, DOCX, and TXT files</p>
                    <input type="file" 
                           class="file-input" 
                           x-ref="fileInput" 
                           multiple 
                           accept=".pdf,.docx,.txt"
                           @change="handleFileSelect($event)">
                    <button class="upload-btn" @click="$refs.fileInput.click()">
                        Choose Files
                    </button>
                </div>
                
                <!-- Upload Progress -->
                <div x-show="uploadProgress.length > 0" style="margin-top: 2rem;">
                    <h3>Upload Progress</h3>
                    <template x-for="file in uploadProgress" :key="file.name">
                        <div style="margin: 1rem 0; padding: 1rem; background: white; border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span x-text="file.name"></span>
                                <span x-text="file.status" :class="{ 'text-green-600': file.status === 'success', 'text-red-600': file.status === 'error' }"></span>
                            </div>
                        </div>
                    </template>
                </div>
            </div>

            <!-- Analytics Tab -->
            <div x-show="activeTab === 'analytics'">
                <h2 style="margin-bottom: 2rem; color: #333; text-align: center;">System Analytics</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" x-text="stats.total_documents || 0"></div>
                        <div class="stat-label">Total Documents</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" x-text="stats.total_chunks || 0"></div>
                        <div class="stat-label">Document Chunks</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" x-text="stats.total_feedback || 0"></div>
                        <div class="stat-label">User Feedback</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" x-text="stats.positive_feedback || 0"></div>
                        <div class="stat-label">Positive Feedback</div>
                    </div>
                </div>
                
                <!-- System Status -->
                <div class="stat-card" style="max-width: 600px; margin: 0 auto;">
                    <h3 style="margin-bottom: 1rem;">System Status</h3>
                    <div style="text-align: left;">
                        <p><strong>Embedding Model:</strong> <span x-text="stats.embedding_model || 'N/A'"></span></p>
                        <p><strong>Vector Database:</strong> <span x-text="stats.vector_db || 'N/A'"></span></p>
                        <p><strong>LLM Available:</strong> 
                            <span :class="stats.llm_available ? 'text-green-600' : 'text-red-600'"
                                  x-text="stats.llm_available ? 'Yes' : 'No'"></span>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Documents Tab -->
            <div x-show="activeTab === 'documents'">
                <h2 style="margin-bottom: 2rem; color: #333; text-align: center;">Uploaded Documents</h2>
                
                <!-- Delete All Button -->
                <div style="text-align: center; margin-bottom: 2rem;" x-show="documents.length > 0">
                    <button class="delete-all-btn" 
                            @click="showDeleteAllModal = true"
                            :disabled="isDeleting">
                        <i class="fas fa-trash-alt"></i> 
                        <span x-show="!isDeleting">Delete All Documents</span>
                        <span x-show="isDeleting">Deleting...</span>
                    </button>
                </div>

                <div class="document-list">
                    <template x-for="doc in documents" :key="doc.filename">
                        <div class="document-item">
                            <div>
                                <div class="document-name" x-text="doc.filename"></div>
                                <div class="document-chunks" x-text="doc.chunks + ' chunks'"></div>
                            </div>
                            <div class="document-actions">
                                <button class="action-btn delete-btn" 
                                        @click="confirmDeleteDocument(doc.filename)"
                                        :disabled="isDeleting"
                                        title="Delete document">
                                    <i class="fas fa-trash"></i>
                                </button>
                                <i class="fas fa-file-alt" style="color: #00d4aa; font-size: 1.5rem; margin-left: 0.5rem;"></i>
                            </div>
                        </div>
                    </template>
                    <div x-show="documents.length === 0" style="text-align: center; color: #666; padding: 2rem;">
                        No documents uploaded yet. <a href="#" @click="activeTab = 'upload'" style="color: #00d4aa;">Upload some documents</a> to get started.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Confirmation Modals -->
    <!-- Delete Document Modal -->
    <div x-show="showDeleteModal" class="modal-overlay" x-transition>
        <div class="modal-content">
            <div class="modal-title">Delete Document</div>
            <div class="modal-message">
                Are you sure you want to delete "<span x-text="documentToDelete"></span>"? This action cannot be undone.
            </div>
            <div class="modal-actions">
                <button class="modal-btn cancel" @click="showDeleteModal = false">Cancel</button>
                <button class="modal-btn confirm" @click="deleteDocument()" :disabled="isDeleting">
                    <span x-show="!isDeleting">Delete</span>
                    <span x-show="isDeleting">Deleting...</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Delete All Documents Modal -->
    <div x-show="showDeleteAllModal" class="modal-overlay" x-transition>
        <div class="modal-content">
            <div class="modal-title">Delete All Documents</div>
            <div class="modal-message">
                Are you sure you want to delete ALL documents? This will remove all <span x-text="documents.length"></span> documents and cannot be undone.
            </div>
            <div class="modal-actions">
                <button class="modal-btn cancel" @click="showDeleteAllModal = false">Cancel</button>
                <button class="modal-btn confirm" @click="deleteAllDocuments()" :disabled="isDeleting">
                    <span x-show="!isDeleting">Delete All</span>
                    <span x-show="isDeleting">Deleting...</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div x-show="notification.show" 
         class="notification" 
         :class="notification.type"
         x-transition>
        <div x-text="notification.message"></div>
    </div>

    <script>
        const API_BASE_URL = 'http://127.0.0.1:8000';

        function ragApp() {
            return {
                activeTab: 'chat',
                messages: [],
                currentMessage: '',
                isLoading: false,
                selectedRole: 'user',
                uploadProgress: [],
                stats: {},
                documents: [],
                isDeleting: false,
                showDeleteModal: false,
                showDeleteAllModal: false,
                documentToDelete: '',
                notification: {
                    show: false,
                    message: '',
                    type: 'success'
                },
                roles: [
                    { value: 'user', label: 'User' },
                    { value: 'manager', label: 'Manager' },
                    { value: 'developer', label: 'Developer' }
                ],

                init() {
                    this.loadStats();
                    this.loadDocuments();
                },

                async sendMessage() {
                    if (!this.currentMessage.trim() || this.isLoading) return;

                    const userMessage = {
                        id: Date.now(),
                        type: 'user',
                        content: this.currentMessage,
                        timestamp: new Date()
                    };

                    this.messages.push(userMessage);
                    const query = this.currentMessage;
                    this.currentMessage = '';
                    this.isLoading = true;

                    this.scrollToBottom();

                    try {
                        const response = await fetch(`${API_BASE_URL}/query/`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                query: query,
                                user_role: this.selectedRole,
                                max_results: 3
                            })
                        });

                        if (!response.ok) {
                            const errorData = await response.json();
                            throw new Error(errorData.detail || 'Failed to get response');
                        }

                        const data = await response.json();

                        const botMessage = {
                            id: Date.now() + 1,
                            type: 'bot',
                            content: data.response,
                            sources: data.sources,
                            queryId: data.query_id,
                            timestamp: new Date()
                        };

                        this.messages.push(botMessage);
                        this.scrollToBottom();

                    } catch (error) {
                        console.error('Error:', error);
                        const errorMessage = {
                            id: Date.now() + 1,
                            type: 'bot',
                            content: `Sorry, I encountered an error: ${error.message}. Please make sure the API server is running and documents are uploaded.`,
                            timestamp: new Date()
                        };
                        this.messages.push(errorMessage);
                        this.showNotification('Error sending message: ' + error.message, 'error');
                    } finally {
                        this.isLoading = false;
                        this.scrollToBottom();
                    }
                },

                scrollToBottom() {
                    this.$nextTick(() => {
                        if (this.$refs.chatMessages) {
                            this.$refs.chatMessages.scrollTop = this.$refs.chatMessages.scrollHeight;
                        }
                    });
                },

                async submitFeedback(queryId, helpful, message) {
                    try {
                        const response = await fetch(`${API_BASE_URL}/feedback/`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                query_id: queryId,
                                helpful: helpful,
                                comments: ''
                            })
                        });

                        if (response.ok) {
                            message.feedback = helpful;
                            this.showNotification('Thank you for your feedback!', 'success');
                        } else {
                            throw new Error('Failed to submit feedback');
                        }
                    } catch (error) {
                        console.error('Error submitting feedback:', error);
                        this.showNotification('Error submitting feedback', 'error');
                    }
                },

                handleFileSelect(event) {
                    const files = Array.from(event.target.files);
                    this.uploadFiles(files);
                },

                handleFileDrop(event) {
                    event.currentTarget.classList.remove('dragover');
                    const files = Array.from(event.dataTransfer.files);
                    this.uploadFiles(files);
                },

                async uploadFiles(files) {
                    if (files.length === 0) return;

                    // Initialize progress tracking
                    this.uploadProgress = files.map(file => ({
                        name: file.name,
                        status: 'uploading'
                    }));

                    const formData = new FormData();
                    files.forEach(file => {
                        formData.append('files', file);
                    });

                    try {
                        const response = await fetch(`${API_BASE_URL}/upload-documents/`, {
                            method: 'POST',
                            body: formData
                        });

                        if (!response.ok) {
                            const errorData = await response.json();
                            throw new Error(errorData.detail || 'Upload failed');
                        }

                        const data = await response.json();
                        
                        // Update progress status
                        this.uploadProgress = this.uploadProgress.map(file => ({
                            ...file,
                            status: 'success'
                        }));

                        this.showNotification(`Successfully uploaded ${files.length} files`, 'success');
                        
                        // Refresh stats and documents
                        await this.loadStats();
                        await this.loadDocuments();
                        
                        // Clear progress after 3 seconds
                        setTimeout(() => {
                            this.uploadProgress = [];
                        }, 3000);

                    } catch (error) {
                        console.error('Upload error:', error);
                        this.uploadProgress = this.uploadProgress.map(file => ({
                            ...file,
                            status: 'error'
                        }));
                        this.showNotification('Upload failed: ' + error.message, 'error');
                    }
                },

                async loadStats() {
                    try {
                        const response = await fetch(`${API_BASE_URL}/stats/`);
                        if (response.ok) {
                            this.stats = await response.json();
                        }
                    } catch (error) {
                        console.error('Error loading stats:', error);
                    }
                },

                async loadDocuments() {
                    try {
                        const response = await fetch(`${API_BASE_URL}/documents/`);
                        if (response.ok) {
                            const data = await response.json();
                            this.documents = data.documents;
                        }
                    } catch (error) {
                        console.error('Error loading documents:', error);
                    }
                },

                showNotification(message, type = 'success') {
                    this.notification = {
                        show: true,
                        message: message,
                        type: type
                    };

                    // Auto hide after 3 seconds
                    setTimeout(() => {
                        this.notification.show = false;
                    }, 3000);
                },

                confirmDeleteDocument(filename) {
                    this.documentToDelete = filename;
                    this.showDeleteModal = true;
                },

                async deleteDocument() {
                    if (!this.documentToDelete) return;

                    this.isDeleting = true;
                    try {
                        const response = await fetch(`${API_BASE_URL}/documents/${encodeURIComponent(this.documentToDelete)}`, {
                            method: 'DELETE'
                        });

                        if (!response.ok) {
                            const errorData = await response.json();
                            throw new Error(errorData.detail || 'Failed to delete document');
                        }

                        const data = await response.json();
                        
                        // Remove document from local list
                        this.documents = this.documents.filter(doc => doc.filename !== this.documentToDelete);
                        
                        this.showNotification(`Successfully deleted "${this.documentToDelete}"`, 'success');
                        
                        // Refresh stats
                        await this.loadStats();
                        
                    } catch (error) {
                        console.error('Error deleting document:', error);
                        this.showNotification('Error deleting document: ' + error.message, 'error');
                    } finally {
                        this.isDeleting = false;
                        this.showDeleteModal = false;
                        this.documentToDelete = '';
                    }
                },

                async deleteAllDocuments() {
                    this.isDeleting = true;
                    try {
                        const response = await fetch(`${API_BASE_URL}/documents/`, {
                            method: 'DELETE'
                        });

                        if (!response.ok) {
                            const errorData = await response.json();
                            throw new Error(errorData.detail || 'Failed to delete all documents');
                        }

                        const data = await response.json();
                        
                        // Clear local document list
                        this.documents = [];
                        
                        // Clear chat messages since they're no longer relevant
                        this.messages = [];
                        
                        this.showNotification(`Successfully deleted all documents (${data.documents_removed} documents, ${data.chunks_removed} chunks)`, 'success');
                        
                        // Refresh stats
                        await this.loadStats();
                        
                    } catch (error) {
                        console.error('Error deleting all documents:', error);
                        this.showNotification('Error deleting documents: ' + error.message, 'error');
                    } finally {
                        this.isDeleting = false;
                        this.showDeleteAllModal = false;
                    }
                }
            }
        }

        // Initialize Alpine.js app
        document.addEventListener('alpine:init', () => {
            Alpine.data('ragApp', ragApp);
        });
    </script>
</body>
</html>